<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>게시판 상세보기</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>

    <style>
        li{
            list-style: none;
        }
        .mytitle {
            width: 100%;
            height: 250px;

            background-image: linear-gradient(0deg, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('https://cdn.pixabay.com/photo/2015/01/20/13/13/samsung-605439_960_720.jpg');
            background-position: center;
            background-size: cover;

            color: white;

            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        #album-art {
            width: 150px;
            height: 150px;
            margin-left: 30px;
            float: left;
        }

        #description {
            width: 150px;
            height: 150px;
            display: inline-block;
            margin-left: 10px;
        }

        .mypost {
            width: 95%;
            max-width: 800px;
            margin: 20px auto 0px auto;
            padding: 20px;
            box-shadow: 0px 0px 3px 0px gray;
        }


        button {
            width: 200px;
            height: 50px;

            background-color: transparent;
            color: black;

            border-radius: 50px;
            border: 1px solid black;

            margin: 10px auto 0 auto;
            display: block;
        }

        button:hover {
            border: 2px solid black;
        }

        #title {
            max-width: 700px;
            max-height: 100px;
            margin: 10px auto 15px auto;
            border: gray solid 1px;
        }

        #content {
            max-width: 700px;
            height: 400px;
            margin: auto;
            border: gray solid 1px;
        }

        .wrapper {
            display: flex;
            justify-content: center;
        }

        #star {
            max-width: 700px;
            max-height: 100px;
            margin: 10px auto 15px auto;
        }

        #like {
            margin-right: 30px;
        }

        img {
            width: 150px;
            height: 150px;
        }

    </style>

    <script>
        let num = '{{ num }}'
        $(document).ready(function () {
            listing();
        });
        function listing() {
            $("#mypost").empty()
            $.ajax({
                type: 'GET',
                url: '/view_content',
                data: {num},
                success: function (response) {
                    rows = response["content_list"]
                    for (let i = 0; i < rows.length; i++){
                        let artist = rows[i]["artist"]
                        let img = rows[i]["img"]
                        let s_title = rows[i]["s_title"]
                        let content = rows[i]["content"]
                        let title = rows[i]["title"]
                        let star = rows[i]["star"]
                        console.log(content, title, star)

                        let star_image = '⭐'.repeat(star)

                        let temp_html = `   <div id="album-art"><img src="http://image.genie.co.kr${img}" alt="${title}" ></div>
                                                <div id="description">
                                                    <ul>
                                                        <li>${s_title}</li>
                                                        <li>${artist}</li>
                                                    </ul>
                                                </div>
                                           <div id="title">${title}</div>

                                            <div id="content">${content}</div>
                                            <div class="wrapper">
                                                <div id="star">
                                                    별점 : ${star_image}
                                                </div>`
                        $("#mypost").append(temp_html)

                    }
                }
            })
        }

    </script>
</head>
<body>
<div class="mytitle">
    <h1>게시글</h1>
</div>

<div class="mypost" id="mypost">
    <div id="title">
        제목 예시

    </div>

    <div id="content">
        컨텐츠 예시

    </div>


    <div class="wrapper">
        <div id="star">
            별점 : ⭐⭐⭐
        </div>

        <div id="like">
            3❤️
        </div>
    </div>
</div>


    <button onclick=location.href='../'>홈으로</button>

</body>
</html>